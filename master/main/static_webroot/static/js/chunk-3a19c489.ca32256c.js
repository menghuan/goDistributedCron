(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a19c489"],{"0031":function(e,a,r){"use strict";var t=r("684e"),n=r.n(t);n.a},"684e":function(e,a,r){},"76fe":function(e,a,r){"use strict";var t=r("d81d"),n=r("83d6"),o=r.n(n);a["a"]={list:function(e,a){t["a"].post(o.a.serviceUrl+"/job/list",e,a)},save:function(e,a){t["a"].post(o.a.serviceUrl+"/job/save",e,a)},delete:function(e,a){t["a"].post(o.a.serviceUrl+"/job/delete",{name:e},a)},kill:function(e,a){t["a"].post(o.a.serviceUrl+"/job/kill",{name:e},a)},enable:function(e,a){t["a"].post(o.a.serviceUrl+"/job/enable",{name:e},a)},disable:function(e,a){t["a"].post(o.a.serviceUrl+"/job/disable",{name:e},a)},run:function(e,a){t["a"].post(o.a.serviceUrl+"/job/run",{name:e},a)},log:function(e,a){t["a"].get("/job/log",e,a)}}},a096:function(e,a,r){"use strict";r.r(a);var t=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",{staticClass:"app-container"},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.formRules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"任务名称"}},[r("el-input",{attrs:{placeholder:"任务名称",prop:"name"},model:{value:e.form.name,callback:function(a){e.$set(e.form,"name",a)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"shell命令"}},[r("el-input",{attrs:{placeholder:"shell命令",prop:"command"},model:{value:e.form.command,callback:function(a){e.$set(e.form,"command",a)},expression:"form.command"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"cron表达式"}},[r("el-input",{attrs:{placeholder:"秒 分 时 天 月 周",prop:"cronExpr"},model:{value:e.form.cronExpr,callback:function(a){e.$set(e.form,"cronExpr",a)},expression:"form.cronExpr"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"任务备注"}},[r("el-input",{attrs:{type:"textarea",rows:3,size:"medium",width:"100"},model:{value:e.form.remark,callback:function(a){e.$set(e.form,"remark",a)},expression:"form.remark"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]),e._v(" "),r("el-button",{on:{click:e.onCancel}},[e._v("取消")])],1)],1)],1)},n=[],o=r("76fe"),s={data:function(){return{form:{name:"",command:"",cronExpr:""},formRules:{name:[{required:!0,message:"请输入任务名称",trigger:"blur"},{min:5,max:30,message:"任务长度在5到30之间",trigger:"blur"}],cronExpr:[{required:!0,message:"请输入crontab表达式",trigger:"blur"}],command:[{required:!0,message:"请输入命令",trigger:"blur"}]}}},methods:{onSubmit:function(){var e=this;this.$refs["form"].validate(function(a){if(!a)return!1;e.save()})},save:function(){var e=this;o["a"].save(this.form,function(){e.$router.push("/joblist"),e.$message("提交成功!")})},onCancel:function(){this.$message({message:"取消任务!",type:"warning"})}}},i=s,l=(r("0031"),r("2877")),c=Object(l["a"])(i,t,n,!1,null,"5573aec6",null);a["default"]=c.exports},d81d:function(e,a,r){"use strict";r("ac4d"),r("8a81"),r("ac6a");var t=r("bc3a"),n=r.n(t),o=r("5c96"),s=r("a18c"),i="加载失败, 请稍后再试",l=0,c=401,u=801;function m(e,a){e.then(function(e){return p(e,a)}).catch(function(e){return d(e)})}function f(e,a){switch(e){case u:return s["a"].push("/install"),!1;case c:return s["a"].push("/user/login"),!1}return e===l||(o["Message"].error({message:a}),!1)}function p(e,a){f(e.data.code,e.data.message)&&a&&a(e.data.data,e.data.code,e.data.message)}function d(e){o["Message"].error({message:"请求失败 - "+e})}n.a.defaults.baseURL="",n.a.defaults.timeout=1e4,n.a.defaults.responseType="json",n.a.interceptors.response.use(function(e){return e},function(e){return o["Message"].error({message:i}),Promise.reject(e)}),a["a"]={get:function(e,a,r){var t=n.a.get(e,{params:a});m(t,r)},batchGet:function(e,a){var r=[],t=!0,o=!1,s=void 0;try{for(var i,l=e[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var c=i.value,u={};void 0!==c.params&&(u=c.params),r.push(n.a.get(c.uri,{params:u}))}}catch(m){o=!0,s=m}finally{try{t||null==l.return||l.return()}finally{if(o)throw s}}n.a.all(r).then(n.a.spread(function(){for(var e=[],r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];for(var o=0,s=t;o<s.length;o++){var i=s[o];if(!f(i.data.code,i.data.message))return;e.push(i.data.data)}a.apply(void 0,e)})).catch(function(e){return d(e)})},post:function(e,a,r){var t=n.a.post(e,JSON.stringify(a),{headers:{post:{"Content-Type":"application/json"}}});m(t,r)}}}}]);